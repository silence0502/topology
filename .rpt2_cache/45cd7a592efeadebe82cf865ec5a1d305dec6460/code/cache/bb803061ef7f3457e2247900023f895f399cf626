{"code":"import * as tslib_1 from \"tslib\";\r\nimport * as React from 'react';\r\nimport { VIM, Link, vimOption, linkOption } from './vim';\r\nimport _ from 'lodash';\r\nvar Main = /** @class */ (function (_super) {\r\n    tslib_1.__extends(Main, _super);\r\n    function Main(props) {\r\n        var _this = _super.call(this, props) || this;\r\n        _this.state = {\r\n            rankDir: 'TB',\r\n        };\r\n        return _this;\r\n    }\r\n    /**\r\n     * 数据传递动画\r\n     */\r\n    Main.prototype.doAnimate = function () {\r\n        var graph = this.graph;\r\n        var paper = this.paper;\r\n        graph.on('signal', function (cell, data) {\r\n            if (cell instanceof joint.dia.Link) {\r\n                if (cell.attributes.state == 0) {\r\n                    var targetCell_1 = graph.getCell(cell.get('target').id);\r\n                    var s = paper.findViewByModel(cell);\r\n                    s.sendToken(V('circle', { r: 7, fill: 'green' }).node, 1000, function () {\r\n                        targetCell_1.trigger('signal', targetCell_1);\r\n                    });\r\n                }\r\n            }\r\n            else {\r\n                var outboundLinks = graph.getConnectedLinks(cell, { outbound: true });\r\n                _.each(outboundLinks, function (link) {\r\n                    link.trigger('signal', link);\r\n                });\r\n            }\r\n        });\r\n        var sources = [];\r\n        var targets = [];\r\n        _.map(graph.getLinks(), function (link) {\r\n            sources.push(link.get('source').id);\r\n            targets.push(link.get('target').id);\r\n        });\r\n        var triggers = _.sortedUniq(_.difference(sources, targets));\r\n        function simulate() {\r\n            return setInterval(function () {\r\n                _.map(triggers, function (trigger) {\r\n                    var targetCell = graph.getCell(trigger);\r\n                    targetCell.trigger('signal', targetCell);\r\n                });\r\n            }, 3000);\r\n        }\r\n        simulate();\r\n    };\r\n    /**\r\n     * 数据解析\r\n     * @param data 拓扑数据\r\n     */\r\n    Main.prototype.parseData = function (data, images) {\r\n        var _this = this;\r\n        if (data.nodes) {\r\n            _.map(data.nodes, function (node) {\r\n                var opt = {\r\n                    isHighlight: (node.id === _this.props.cid)\r\n                };\r\n                new VIM(vimOption(_.merge(node, opt, images))).addTo(_this.graph);\r\n            });\r\n            if (data.links) {\r\n                _.map(data.links, function (link) {\r\n                    new Link(linkOption(link)).addTo(_this.graph);\r\n                });\r\n            }\r\n        }\r\n    };\r\n    Main.prototype.initializePaper = function () {\r\n        var _this = this;\r\n        var graph = this.graph = new joint.dia.Graph;\r\n        this.commandManager = new joint.dia.CommandManager({ graph: graph });\r\n        var paper = this.paper = new joint.dia.Paper({\r\n            // el: this.paperContainer,\r\n            width: this.props.paper_width,\r\n            height: this.props.paper_height,\r\n            gridSize: 10,\r\n            drawGrid: this.props.drawGrid,\r\n            model: graph,\r\n            perpendicularLinks: true,\r\n            restrictTranslate: true,\r\n        });\r\n        this.parseData(this.props.data, this.props.images);\r\n        if (this.props.animate) {\r\n            this.doAnimate();\r\n        }\r\n        // this.snaplines = new joint.ui.Snaplines({ paper: paper });\r\n        var paperScroller = this.paperScroller = new joint.ui.PaperScroller({\r\n            paper: paper,\r\n            autoResizePaper: true,\r\n            cursor: 'grab'\r\n        });\r\n        paper.on('blank:pointerdown', paperScroller.startPanning);\r\n        $(this.paperContainer).append(paperScroller.el);\r\n        this.renderLayout();\r\n        paperScroller.render();\r\n        if (this.props.center) {\r\n            paperScroller.center();\r\n        }\r\n        if (this.props.zoomToFit) {\r\n            paperScroller.zoomToFit();\r\n        }\r\n        new joint.ui.Tooltip({\r\n            target: '[data-tooltip]',\r\n            content: function (target) {\r\n                var tips = _.split(target.attributes['data-tooltip'].nodeValue, '|');\r\n                return _.map(_.split(target.attributes['data-tooltip'].nodeValue, '|'), function (item, index) {\r\n                    if (index == 0 && tips.length > 1) {\r\n                        if (tips[0] != tips[1]) {\r\n                            return \"<b>\" + item + \"</b><hr />\";\r\n                        }\r\n                        else {\r\n                            return '';\r\n                        }\r\n                    }\r\n                    return item;\r\n                });\r\n            }\r\n        });\r\n        paper.on('cell:contextmenu', function (cellView) {\r\n            if (_this.props.onDblclick) {\r\n                _this.props.onDblclick(cellView);\r\n            }\r\n        });\r\n        this.btn_changeLayout_tb.onclick = this.changeLayout_tb.bind(this);\r\n        this.btn_changeLayout_bt.onclick = this.changeLayout_bt.bind(this);\r\n        this.btn_changeLayout_lr.onclick = this.changeLayout_lr.bind(this);\r\n        this.btn_changeLayout_rl.onclick = this.changeLayout_rl.bind(this);\r\n        this.btn_zoomin.onclick = this.zoomIn.bind(this);\r\n        this.btn_zoomout.onclick = this.zoomOut.bind(this);\r\n    };\r\n    Main.prototype.initializeNavigator = function () {\r\n        var navigator = this.navigator = new joint.ui.Navigator({\r\n            width: 240,\r\n            height: 115,\r\n            paperScroller: this.paperScroller,\r\n            zoom: false,\r\n        });\r\n        $('.navigator').append(navigator.el);\r\n        navigator.render();\r\n    };\r\n    Main.prototype.renderLayout = function () {\r\n        var graphBBox = joint.layout.DirectedGraph.layout(this.graph, {\r\n            nodeSep: 50,\r\n            edgeSep: 80,\r\n            marginX: 100,\r\n            marginY: 20,\r\n            rankSep: 100,\r\n            rankDir: this.state.rankDir,\r\n        });\r\n    };\r\n    Main.prototype.changeLayout_tb = function () {\r\n        var _this = this;\r\n        this.setState({\r\n            rankDir: 'TB'\r\n        }, function () {\r\n            _this.renderLayout();\r\n        });\r\n    };\r\n    Main.prototype.changeLayout_bt = function () {\r\n        var _this = this;\r\n        this.setState({\r\n            rankDir: 'BT'\r\n        }, function () {\r\n            _this.renderLayout();\r\n        });\r\n    };\r\n    Main.prototype.changeLayout_lr = function () {\r\n        var _this = this;\r\n        this.setState({\r\n            rankDir: 'LR'\r\n        }, function () {\r\n            _this.renderLayout();\r\n        });\r\n    };\r\n    Main.prototype.changeLayout_rl = function () {\r\n        var _this = this;\r\n        this.setState({\r\n            rankDir: 'RL'\r\n        }, function () {\r\n            _this.renderLayout();\r\n        });\r\n    };\r\n    Main.prototype.zoomIn = function () {\r\n        this.paperScroller.zoom(0.2, { max: 2 });\r\n    };\r\n    Main.prototype.zoomOut = function () {\r\n        this.paperScroller.zoom(-0.2, { min: 0.2 });\r\n    };\r\n    Main.prototype.componentDidMount = function () {\r\n        this.initializePaper();\r\n        this.initializeNavigator();\r\n    };\r\n    Main.prototype.render = function () {\r\n        var _this = this;\r\n        return (React.createElement(\"div\", { className: \"Topology\", style: { width: this.props.width, height: this.props.height } },\r\n            React.createElement(\"div\", { className: \"topology-app\" },\r\n                React.createElement(\"div\", { className: \"app-body\" },\r\n                    React.createElement(\"div\", { ref: function (node) { _this.btn_changeLayout_tb = node; }, id: \"btn-changeLayout-tb\", className: \"btn\" }, \"\\u2193\"),\r\n                    React.createElement(\"div\", { ref: function (node) { _this.btn_changeLayout_bt = node; }, id: \"btn-changeLayout-bt\", className: \"btn\" }, \"\\u2191\"),\r\n                    React.createElement(\"div\", { ref: function (node) { _this.btn_changeLayout_lr = node; }, id: \"btn-changeLayout-lr\", className: \"btn\" }, \"\\u2192\"),\r\n                    React.createElement(\"div\", { ref: function (node) { _this.btn_changeLayout_rl = node; }, id: \"btn-changeLayout-rl\", className: \"btn\" }, \"\\u2190\"),\r\n                    React.createElement(\"div\", { ref: function (node) { _this.btn_zoomin = node; }, id: \"btn-zoomin\", className: \"btn\" }, \"+\"),\r\n                    React.createElement(\"div\", { ref: function (node) { _this.btn_zoomout = node; }, id: \"btn-zoomout\", className: \"btn\" }, \"-\"),\r\n                    React.createElement(\"div\", { className: \"paper-container\", ref: function (node) { _this.paperContainer = node; } }),\r\n                    React.createElement(\"div\", { className: \"navigator\", id: \"navigator\", ref: function (node) { _this.navigator = node; } })))));\r\n    };\r\n    Main.defaultProps = {\r\n        animate: true,\r\n        width: 800,\r\n        height: 600,\r\n        paper_width: 1000,\r\n        paper_height: 1000,\r\n        drawGrid: false,\r\n        rankDir: 'TB',\r\n        data: {},\r\n        images: {},\r\n        center: false,\r\n        zoomToFit: false\r\n    };\r\n    return Main;\r\n}(React.Component));\r\nexport default Main;\r\n//# sourceMappingURL=main.js.map","map":{"version":3,"file":"main.js","sourceRoot":"","sources":["../../src/module/view/main.tsx"],"names":[],"mappings":"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"},"dts":{"name":"F:/study/topology/module/view/main.d.ts","text":"import * as React from 'react';\r\nexport interface MainProps {\r\n    animate?: boolean;\r\n    width?: any;\r\n    height?: any;\r\n    drawGrid?: boolean;\r\n    rankDir?: 'TB' | 'BT' | 'LR' | 'RL';\r\n    onDblclick?: Function;\r\n    data: any;\r\n    images: any;\r\n    center?: boolean;\r\n    zoomToFit?: boolean;\r\n    paper_width?: number;\r\n    paper_height?: number;\r\n    cid?: string;\r\n}\r\nexport default class Main extends React.Component<MainProps, any> {\r\n    paperContainer: HTMLDivElement;\r\n    btn_changeLayout_tb: HTMLDivElement;\r\n    btn_changeLayout_bt: HTMLDivElement;\r\n    btn_changeLayout_lr: HTMLDivElement;\r\n    btn_changeLayout_rl: HTMLDivElement;\r\n    btn_zoomin: HTMLDivElement;\r\n    btn_zoomout: HTMLDivElement;\r\n    navigator: HTMLDivElement;\r\n    graph: joint.dia.Graph;\r\n    commandManager: joint.dia.CommandManager;\r\n    paper: joint.dia.Paper;\r\n    snaplines: joint.ui.Snaplines;\r\n    paperScroller: joint.ui.PaperScroller;\r\n    static defaultProps: MainProps;\r\n    /**\r\n     * 数据传递动画\r\n     */\r\n    doAnimate(): void;\r\n    /**\r\n     * 数据解析\r\n     * @param data 拓扑数据\r\n     */\r\n    parseData(data: any, images: any): void;\r\n    initializePaper(): void;\r\n    initializeNavigator(): void;\r\n    renderLayout(): void;\r\n    changeLayout_tb(): void;\r\n    changeLayout_bt(): void;\r\n    changeLayout_lr(): void;\r\n    changeLayout_rl(): void;\r\n    zoomIn(): void;\r\n    zoomOut(): void;\r\n    constructor(props: MainProps);\r\n    componentDidMount(): void;\r\n    render(): JSX.Element;\r\n}\r\n"}}
